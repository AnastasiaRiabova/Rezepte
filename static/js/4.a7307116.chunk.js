(this.webpackJsonprezepte=this.webpackJsonprezepte||[]).push([[4],{256:function(e,t,a){e.exports={searchInput:"SearchForm_searchInput__3k4rO",calculator:"SearchForm_calculator__1VE4O",position:"SearchForm_position__3efB2",linkView:"SearchForm_linkView__1WVtm",listStyle:"SearchForm_listStyle__3Rq3q",listView:"SearchForm_listView__2miS8",itemView:"SearchForm_itemView__-1ZVP",button:"SearchForm_button__1AUaN",textStyle:"SearchForm_textStyle__1BVFb",buttonStyle:"SearchForm_buttonStyle__1mm7P"}},257:function(e,t,a){e.exports={fontsStyle:"NutrientsCount_fontsStyle__2BFI9",searchInput:"NutrientsCount_searchInput__VsN9_",letterStyle:"NutrientsCount_letterStyle__ZqGAz"}},258:function(e,t,a){e.exports={position:"MainSection_position__3Qwhq"}},261:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(10),c=a(0),s=a(249),i=a.n(s),o=a(250),l=a(5),u=a(6),p=a(13),h=a(14),d=(a(255),a(23)),j=a.n(d),b=a(79),x=function(e,t){return function(a){j.a.defaults.baseURL="https://api.edamam.com",j.a.defaults.headers.common.Authorization="",a(b.a.getRecipesRequest()),j.a.get("/search?q=".concat(e,"&app_id=4201534d&app_key=ac730a8b8a048ad137d8d0e0fc6fbb98&from=").concat(t,"&to=").concat(t+10)).then((function(e){return a(b.a.getRecipesSuccess(e.data))})).catch((function(e){return a(b.a.getRecipesError(e))}))}},m=a(256),f=a.n(m),O=function(e){return e.recipe.hits},g=a(36),_=a(257),S=a.n(_);var N=function(e){var t=e.index,a=Object(c.useState)(""),s=Object(g.a)(a,2),i=s[0],o=s[1],l=Object(r.d)(O);function u(e){if(l&&t)return Math.round(+i*e/Math.round(l[t].recipe.totalWeight))}return Object(n.jsxs)("div",{className:S.a.fontsStyle,children:[Object(n.jsxs)("p",{children:["Choose the Dish and ",Object(n.jsx)("br",{}),"enter the quantity you prefer to eat:"]}),Object(n.jsx)("input",{autoComplete:"off",id:S.a.searchInput,type:"text",name:"input",value:i,placeholder:"gram",onChange:function(e){o(e.target.value)}}),Object(n.jsx)("p",{className:S.a.letterStyle,children:l&&t&&l[t].recipe.label}),Object(n.jsxs)("p",{children:["Total Weight:",Object(n.jsxs)("span",{className:S.a.letterStyle,children:[" ",l&&t&&Math.round(l[t].recipe.totalWeight)," ","gr"]})]}),Object(n.jsxs)("p",{children:["Calories:",Object(n.jsxs)("span",{className:S.a.letterStyle,children:[" ",i&&t?u(Math.round(l[t].recipe.calories)):l&&t&&Math.round(l[t].recipe.calories)," ","kkal"]})]}),Object(n.jsxs)("p",{children:["Fat:",Object(n.jsxs)("span",{className:S.a.letterStyle,children:[i&&t?u(Math.round(l[t].recipe.totalNutrients.FAT.quantity)):l&&t&&Math.round(l[t].recipe.totalNutrients.FAT.quantity),"gr"]})]}),Object(n.jsxs)("p",{children:["Carbs:",Object(n.jsxs)("span",{className:S.a.letterStyle,children:[i&&t?u(Math.round(l[t].recipe.totalNutrients.CHOCDF.quantity)):l&&t&&Math.round(l[t].recipe.totalNutrients.CHOCDF.quantity)," ","gr"]})]}),Object(n.jsxs)("p",{children:["Protein:",Object(n.jsxs)("span",{className:S.a.letterStyle,children:[i&&t?u(Math.round(l[t].recipe.totalNutrients.PROCNT.quantity)):l&&t&&Math.round(l[t].recipe.totalNutrients.PROCNT.quantity)," ","gr"]})]})]})},y=a(47),v=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:"",getIndex:"",nextPage:0},e.getIndex=function(t){e.setState({getIndex:t.currentTarget.attributes.data.value})},e.toGetInputValue=function(t){e.setState({inputValue:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.getRecipes(e.state.inputValue,e.state.nextPage)},e.toNextPage=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState((function(e){return{nextPage:e.nextPage+10}}));case 2:e.props.getRecipes(e.state.inputValue,e.state.nextPage);case 3:case"end":return t.stop()}}),t)}))),e.toPrevPage=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.nextPage>0)){t.next=6;break}return t.next=3,e.setState((function(e){return{nextPage:e.nextPage-10}}));case 3:e.props.getRecipes(e.state.inputValue,e.state.nextPage),t.next=7;break;case 6:console.log("not");case 7:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:f.a.position,children:[Object(n.jsxs)("form",{action:"",onSubmit:this.onSubmit,children:[Object(n.jsx)("input",{autoComplete:"off",id:f.a.searchInput,type:"text",onInput:this.toGetInputValue,value:this.state.inputValue,placeholder:"Enter what do you want to eat today"}),Object(n.jsx)("button",{className:f.a.button,children:"Search"})]}),Object(n.jsxs)("div",{className:f.a.listStyle,children:[Object(n.jsx)("ul",{className:f.a.listView,children:this.props.recipe&&this.props.recipe.map((function(t,a){return Object(n.jsx)("li",{className:f.a.itemView,data:a,onClick:e.getIndex,children:Object(n.jsx)("div",{className:"col s4 m8",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsxs)("div",{className:"card-image",children:[Object(n.jsx)("img",{src:t.recipe.image,alt:"food"}),Object(n.jsx)("span",{className:["card-title",f.a.textStyle].join(" "),children:t.recipe.label})]}),Object(n.jsx)("div",{className:"card-content",children:Object(n.jsxs)("ul",{className:f.a.linkView,children:["Ingredients:",t.recipe.ingredients.map((function(e,t){return Object(n.jsx)("li",{children:e.text},t)}))]})}),Object(n.jsx)("div",{className:"card-action",children:Object(n.jsx)("a",{href:t.recipe.url,target:"_blanc",children:"Get full recipe here"})})]})})},t.recipe.calories)}))}),Object(n.jsx)("div",{className:f.a.buttonStyle,children:this.state.nextPage>0&&Object(n.jsx)(y.a,{onClick:this.toPrevPage,label:"back",color:"white"})}),Object(n.jsx)("div",{className:f.a.buttonStyle,children:this.state.inputValue&&Object(n.jsx)(y.a,{onClick:this.toNextPage,label:"Next Page",color:"orange"})})]}),Object(n.jsx)("div",{className:f.a.calculator,children:Object(n.jsx)(N,{index:this.state.getIndex})})]})})}}]),a}(c.Component),V={getRecipes:x},k=Object(r.b)((function(e){return{recipe:O(e)}}),V)(v),w=a(258),P=a.n(w),C=a(80),I=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j.a.defaults.baseURL="http://slimmom-backend.herokuapp.com",j.a.defaults.headers.common.Authorization=e,a(C.a.getUserInfoRequest()),j.a.get("/user").then((function(e){return a(C.a.getUserInfoSuccess(e.data))})).catch((function(e){return a(C.a.getUserInfoError(e))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=a(25);t.default=function(){var e=Object(r.c)(),t=Object(r.d)(F.a),a=Object(c.useCallback)((function(){return t&&e(I(t))}),[e,t]);return Object(c.useEffect)((function(){a()}),[a]),Object(n.jsx)("div",{className:P.a.position,children:Object(n.jsx)(k,{})})}}}]);
//# sourceMappingURL=4.a7307116.chunk.js.map